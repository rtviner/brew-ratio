{"ast":null,"code":"import _classCallCheck from \"/Users/beccaviner/Desktop/sites/brew-ratio/brew-ratio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/beccaviner/Desktop/sites/brew-ratio/brew-ratio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/beccaviner/Desktop/sites/brew-ratio/brew-ratio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/beccaviner/Desktop/sites/brew-ratio/brew-ratio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/beccaviner/Desktop/sites/brew-ratio/brew-ratio/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/beccaviner/Desktop/sites/brew-ratio/brew-ratio/src/App.js\";\nimport React, { Component } from 'react';\nimport { IncrementOrDecrementButton, IncrementDecrementSet } from './increment.js';\nimport { InputButton } from './inputButton.js';\nimport { TimerDisplay } from './timer.js';\nimport { Controls } from './timerControls.js';\nimport './App.css';\nvar DefaultWater = 558;\nvar DefaultRatio = 15.5;\nvar DefaultMinutes = 3;\nvar DefaultSeconds = 0;\nvar light = 18;\nvar med = 15.5;\nvar strong = 13;\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.setGoldenRatio = function (event) {\n      console.log(event.target.value.split(\":\")); // this.setState({\n      //   goldenRatio: parseFloat(event.target.value),\n      // })\n    };\n\n    _this.updateWater = function (event) {\n      var _this$state = _this.state,\n          waterGrams = _this$state.waterGrams,\n          goldenRatio = _this$state.goldenRatio;\n      var eventInfo = event.target.id.split('-');\n      var value = event.target.type === 'number' ? event.target.value : waterGrams;\n      var newWater;\n\n      if (eventInfo[0] === 'cups') {\n        if (eventInfo[1] === 'amount') {\n          newWater = value * 279;\n        } else {\n          newWater = eventInfo[1] === 'decrement' && waterGrams >= 69.75 ? value - 69.75 : value + 69.75;\n        }\n      } else if (eventInfo[0] === 'coffeeGrams') {\n        if (eventInfo[1] === 'amount') {\n          newWater = value * goldenRatio;\n        } else {\n          newWater = eventInfo[1] === 'decrement' && waterGrams >= goldenRatio ? value - goldenRatio : value + goldenRatio;\n        }\n      } else if (eventInfo[0] === 'waterGrams') {\n        if (eventInfo[1] === 'amount') {\n          newWater = value;\n        } else {\n          newWater = eventInfo[1] === 'decrement' && waterGrams >= 1 ? value - 1 : value + 1;\n        }\n      }\n\n      _this.setState({\n        waterGrams: newWater\n      });\n    };\n\n    _this.resetTimer = function () {\n      _this.stopTimer();\n\n      _this.setState({\n        minutes: DefaultMinutes,\n        seconds: DefaultSeconds\n      });\n    };\n\n    _this.playPause = function () {\n      if (_this.state.timerOn) _this.stopTimer();else _this.countdown();\n    };\n\n    _this.stopTimer = function () {\n      _this.setState({\n        timerOn: false\n      });\n\n      clearTimeout(_this.tick);\n    };\n\n    _this.countdown = function () {\n      var _this$state2 = _this.state,\n          minutes = _this$state2.minutes,\n          seconds = _this$state2.seconds;\n      var intervalTime = minutes * 60 + seconds;\n      var endTime = new Date().getTime() + intervalTime * 1000 + 500;\n\n      _this.setState({\n        timerOn: true,\n        timerEnd: endTime\n      });\n\n      var updateClock = function updateClock() {\n        var msLeft = endTime - new Date().getTime(); // if (msLeft <= 0) {\n        //     // make a ding noise\n        // }\n\n        if (msLeft >= 0) {\n          var currentTime = new Date(msLeft); // intervalTime = Math.floor(msLeft / 1000),\n\n          _this.setState({\n            minutes: currentTime.getUTCMinutes(),\n            seconds: currentTime.getUTCSeconds()\n          });\n\n          _this.tick = setTimeout(updateClock, currentTime.getUTCMilliseconds() + 500);\n        }\n      };\n\n      updateClock();\n    };\n\n    _this.stepUpTime = function () {\n      var _this$state3 = _this.state,\n          minutes = _this$state3.minutes,\n          seconds = _this$state3.seconds;\n      var currentMinutes = minutes;\n      var currentSeconds = seconds;\n      var newMinutes;\n      var newSeconds;\n\n      if (seconds === 59) {\n        newMinutes = currentMinutes + 1;\n        newSeconds = 0;\n\n        _this.setState({\n          minutes: newMinutes,\n          seconds: newSeconds\n        });\n      } else if (minutes < 5) {\n        newSeconds = currentSeconds + 1;\n\n        _this.setState({\n          seconds: newSeconds\n        });\n      }\n    };\n\n    _this.stepDownTime = function () {\n      var _this$state4 = _this.state,\n          minutes = _this$state4.minutes,\n          seconds = _this$state4.seconds;\n      var currentMinutes = minutes;\n      var currentSeconds = seconds;\n      var newMinutes;\n      var newSeconds;\n\n      if (seconds === 0 && minutes > 2) {\n        newMinutes = currentMinutes - 1;\n        newSeconds = 59;\n\n        _this.setState({\n          minutes: newMinutes,\n          seconds: newSeconds\n        });\n      }\n\n      if (seconds > 0) {\n        newSeconds = currentSeconds - 1;\n\n        _this.setState({\n          seconds: newSeconds\n        });\n      }\n    };\n\n    _this.saveSettings = function () {\n      var _this$state5 = _this.state,\n          goldenRatio = _this$state5.goldenRatio,\n          waterGrams = _this$state5.waterGrams,\n          minutes = _this$state5.minutes,\n          seconds = _this$state5.seconds;\n      localStorage.setItem('goldenRatio', goldenRatio);\n      localStorage.setItem('waterGrams', waterGrams);\n      localStorage.setItem('minutes', minutes);\n      localStorage.setItem('seconds', seconds);\n    };\n\n    _this.state = {\n      goldenRatio: DefaultRatio,\n      waterGrams: DefaultWater,\n      timerEnd: 0,\n      minutes: DefaultMinutes,\n      seconds: DefaultSeconds,\n      timerOn: false,\n      error: null\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var goldenRatio = parseFloat(localStorage.getItem('goldenRatio')) || DefaultRatio;\n      var waterGrams = parseFloat(localStorage.getItem('waterGrams')) || DefaultWater;\n      var minutes = parseFloat(localStorage.getItem('minutes')) || DefaultMinutes;\n      var seconds = parseFloat(localStorage.getItem('seconds')) || DefaultSeconds;\n      this.setState({\n        goldenRatio: goldenRatio,\n        waterGrams: waterGrams,\n        minutes: minutes,\n        seconds: seconds\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearTimeout(this.tick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state6 = this.state,\n          waterGrams = _this$state6.waterGrams,\n          goldenRatio = _this$state6.goldenRatio,\n          minutes = _this$state6.minutes,\n          seconds = _this$state6.seconds;\n\n      var cupsFromWater = function cupsFromWater(water) {\n        var cupSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 280;\n        var possibleCups = water / cupSize;\n        var roundedPossibleCups = Math.round(possibleCups * 4) / 4;\n        return roundedPossibleCups;\n      };\n\n      var coffeeGramsFromWater = function coffeeGramsFromWater(water, goldenRatio) {\n        var coffeeGrams = water / goldenRatio;\n        return Math.round(coffeeGrams);\n      };\n\n      var twoDigits = function twoDigits(time) {\n        return time >= 10 ? time : \"0\".concat(time);\n      };\n\n      var countdownView = \"\".concat(twoDigits(minutes) || '00', \":\").concat(twoDigits(seconds) || '00');\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(\"main\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"adjustables\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"inputLabel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, \"Coffee : Water\"), React.createElement(\"form\", {\n        className: \"interactions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"strength\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(InputButton, {\n        className: goldenRatio === 18 ? 'active' : 'inactive',\n        id: \"light\",\n        name: \"goldenRatio\",\n        value: \"1:\".concat(light),\n        onClick: this.setGoldenRatio,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"strength\",\n        htmlFor: \"light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, \"light\")), React.createElement(\"div\", {\n        className: \"strength\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, React.createElement(InputButton, {\n        className: goldenRatio === 15.5 ? 'active' : 'inactive',\n        id: \"med\",\n        name: \"goldenRatio\",\n        value: \"1:\".concat(med),\n        onClick: this.setGoldenRatio,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"strength\",\n        htmlFor: \"med\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, \"medium\")), React.createElement(\"div\", {\n        className: \"strength\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, React.createElement(InputButton, {\n        className: goldenRatio === 13 ? 'active' : 'inactive',\n        id: \"strong\",\n        name: \"goldenRatio\",\n        value: \"1:\".concat(strong),\n        onClick: this.setGoldenRatio,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"strength\",\n        htmlFor: \"strong\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, \"strong\")))), React.createElement(\"div\", {\n        className: \"adjustables\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, React.createElement(IncrementDecrementSet, {\n        name: \"cups\",\n        title: \"Brewed Cups\",\n        value: cupsFromWater(waterGrams),\n        measure: \"8oz\",\n        changeQuantity: this.updateWater,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }), React.createElement(IncrementDecrementSet, {\n        name: \"coffeeGrams\",\n        title: \"Ground Coffee\",\n        value: coffeeGramsFromWater(waterGrams, goldenRatio),\n        measure: \"g\",\n        changeQuantity: this.updateWater,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }), React.createElement(IncrementDecrementSet, {\n        name: \"waterGrams\",\n        title: \"Water\",\n        value: Math.round(waterGrams),\n        measure: \"g/mL\",\n        changeQuantity: this.updateWater,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        id: \"countdown-timer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"increment timer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, React.createElement(IncrementOrDecrementButton, {\n        id: \"timer\",\n        onClick: this.stepUpTime,\n        text: \"+\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }), React.createElement(IncrementOrDecrementButton, {\n        id: \"timer\",\n        onClick: this.stepDownTime,\n        text: \"-\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      })), React.createElement(TimerDisplay, {\n        time: countdownView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }), React.createElement(Controls, {\n        playPauseClick: this.playPause,\n        resetClick: this.resetTimer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        id: \"saveSettings\",\n        className: \"rectButton\",\n        type: \"button\",\n        onClick: this.saveSettings,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }, \"Save Settings\")));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/beccaviner/Desktop/sites/brew-ratio/brew-ratio/src/App.js"],"names":["React","Component","IncrementOrDecrementButton","IncrementDecrementSet","InputButton","TimerDisplay","Controls","DefaultWater","DefaultRatio","DefaultMinutes","DefaultSeconds","light","med","strong","App","props","setGoldenRatio","event","console","log","target","value","split","updateWater","state","waterGrams","goldenRatio","eventInfo","id","type","newWater","setState","resetTimer","stopTimer","minutes","seconds","playPause","timerOn","countdown","clearTimeout","tick","intervalTime","endTime","Date","getTime","timerEnd","updateClock","msLeft","currentTime","getUTCMinutes","getUTCSeconds","setTimeout","getUTCMilliseconds","stepUpTime","currentMinutes","currentSeconds","newMinutes","newSeconds","stepDownTime","saveSettings","localStorage","setItem","error","parseFloat","getItem","cupsFromWater","water","cupSize","possibleCups","roundedPossibleCups","Math","round","coffeeGramsFromWater","coffeeGrams","twoDigits","time","countdownView"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { IncrementOrDecrementButton,IncrementDecrementSet } from './increment.js'\nimport { InputButton } from './inputButton.js'\nimport { TimerDisplay } from './timer.js'\nimport { Controls } from './timerControls.js'\nimport './App.css'\n\nconst DefaultWater = 558\nconst DefaultRatio = 15.5\nconst DefaultMinutes = 3\nconst DefaultSeconds = 0\nconst light = 18\nconst med = 15.5\nconst strong = 13\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      goldenRatio: DefaultRatio,\n      waterGrams: DefaultWater,\n      timerEnd: 0,\n      minutes: DefaultMinutes,\n      seconds: DefaultSeconds,\n      timerOn: false,\n      error: null,\n    }\n  }\n\n  componentDidMount() {\n    const goldenRatio = parseFloat(localStorage.getItem('goldenRatio')) || DefaultRatio;\n    const waterGrams = parseFloat(localStorage.getItem('waterGrams'))\n        || DefaultWater;\n    const minutes = parseFloat(localStorage.getItem('minutes'))\n        || DefaultMinutes;\n    const seconds = parseFloat(localStorage.getItem('seconds'))\n        || DefaultSeconds;\n    this.setState({ goldenRatio, waterGrams, minutes, seconds });\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.tick)\n  }\n\n  setGoldenRatio = (event) => {\n    console.log(event.target.value.split(\":\"));\n    // this.setState({\n    //   goldenRatio: parseFloat(event.target.value),\n    // })\n  }\n\n  updateWater = (event) => {\n    const { waterGrams, goldenRatio } = this.state\n    const eventInfo = event.target.id.split('-')\n    let value = event.target.type === 'number' ? event.target.value : waterGrams\n    let newWater\n\n    if (eventInfo[0] === 'cups') {\n      if (eventInfo[1] === 'amount') {\n        newWater = value * 279\n      } else {\n        newWater =\n          eventInfo[1] === 'decrement' && waterGrams >= 69.75\n            ? value - 69.75\n            : value + 69.75\n      }\n    } else if (eventInfo[0] === 'coffeeGrams') {\n      if (eventInfo[1] === 'amount') {\n        newWater = value * goldenRatio\n      } else {\n        newWater =\n          eventInfo[1] === 'decrement' && waterGrams >= goldenRatio\n            ? value - goldenRatio\n            : value + goldenRatio\n      }\n    } else if (eventInfo[0] === 'waterGrams') {\n      if (eventInfo[1] === 'amount') {\n        newWater = value\n      } else {\n        newWater =\n          eventInfo[1] === 'decrement' && waterGrams >= 1\n            ? value - 1\n            : value + 1\n      }\n    }\n    this.setState({ waterGrams: newWater })\n  }\n\n  resetTimer = () => {\n    this.stopTimer()\n    this.setState({\n      minutes: DefaultMinutes,\n      seconds: DefaultSeconds,\n    })\n  }\n\n  playPause = () => {\n    if (this.state.timerOn) this.stopTimer()\n    else this.countdown()\n  }\n\n  stopTimer = () => {\n    this.setState({ timerOn: false })\n    clearTimeout(this.tick)\n  }\n\n  countdown = () => {\n    const { minutes, seconds } = this.state;\n    let intervalTime = (minutes * 60)  + seconds;\n    let endTime = new Date().getTime() + intervalTime * 1000 + 500\n\n    this.setState({\n      timerOn: true,\n      timerEnd: endTime,\n    })\n\n    const updateClock = () => {\n      let msLeft = endTime - new Date().getTime()\n      // if (msLeft <= 0) {\n      //     // make a ding noise\n      // }\n      if (msLeft >= 0) {\n        let currentTime = new Date(msLeft)\n        // intervalTime = Math.floor(msLeft / 1000),\n        this.setState({\n          minutes: currentTime.getUTCMinutes(),\n          seconds: currentTime.getUTCSeconds(),\n        })\n        this.tick = setTimeout(\n          updateClock,\n          currentTime.getUTCMilliseconds() + 500\n        )\n      }\n    }\n    updateClock()\n  }\n\n  stepUpTime = () => {\n    const { minutes, seconds } = this.state;\n    const currentMinutes = minutes;\n    const currentSeconds = seconds;\n    let newMinutes;\n    let newSeconds;\n    if (seconds === 59) {\n      newMinutes = currentMinutes + 1;\n      newSeconds = 0;\n      this.setState({ \n        minutes: newMinutes,\n        seconds: newSeconds\n      });\n    }\n    else if (minutes < 5) {\n      newSeconds = currentSeconds + 1;\n      this.setState({ seconds: newSeconds });\n    }\n  }\n\n  stepDownTime = () => {\n    const { minutes, seconds } = this.state;\n    const currentMinutes = minutes;\n    const currentSeconds = seconds;\n    let newMinutes;\n    let newSeconds;\n    if (seconds === 0 && minutes > 2) {\n      newMinutes = currentMinutes - 1;\n      newSeconds = 59;\n      this.setState({ \n        minutes: newMinutes,\n        seconds: newSeconds \n      });\n    }\n    if (seconds > 0) {\n      newSeconds = currentSeconds - 1;\n      this.setState({ seconds: newSeconds });\n    }\n  }\n\n  saveSettings = () => {\n    const { goldenRatio, waterGrams, minutes, seconds } = this.state;\n    localStorage.setItem('goldenRatio', goldenRatio);\n    localStorage.setItem('waterGrams', waterGrams);\n    localStorage.setItem('minutes', minutes);\n    localStorage.setItem('seconds', seconds);\n  }\n\n  render() {\n    const { waterGrams, goldenRatio, minutes, seconds } = this.state\n\n    const cupsFromWater = (water, cupSize = 280) => {\n      const possibleCups = water / cupSize\n      const roundedPossibleCups = Math.round(possibleCups * 4) / 4\n      return roundedPossibleCups\n    }\n\n    const coffeeGramsFromWater = (water, goldenRatio) => {\n      const coffeeGrams = water / goldenRatio\n      return Math.round(coffeeGrams)\n    }\n\n    let twoDigits = time => (time >= 10 ? time : `0${time}`)\n    let countdownView = `${twoDigits(minutes) || '00'}:${twoDigits(seconds) ||\n      '00'}`\n\n    return (\n      <div className=\"App\">\n        <main>\n          <div className=\"adjustables\">\n            <h2 className=\"inputLabel\">Coffee : Water</h2>\n            <form className=\"interactions\">\n              <div className=\"strength\">\n                <InputButton\n                  className={goldenRatio === 18 ? 'active' : 'inactive'}\n                  id=\"light\"\n                  name=\"goldenRatio\"\n                  value={`1:${light}`}\n                  onClick={this.setGoldenRatio}\n                />\n                <label className=\"strength\" htmlFor=\"light\">\n                  light\n                </label>\n              </div>\n\n              <div className=\"strength\">\n                <InputButton\n                  className={goldenRatio === 15.5 ? 'active' : 'inactive'}\n                  id=\"med\"\n                  name=\"goldenRatio\"\n                  value={`1:${med}`}\n                  onClick={this.setGoldenRatio}\n                />\n                <label className=\"strength\" htmlFor=\"med\">\n                  medium\n                </label>\n              </div>\n\n              <div className=\"strength\">\n                <InputButton\n                  className={goldenRatio === 13 ? 'active' : 'inactive'}\n                  id=\"strong\"\n                  name=\"goldenRatio\"\n                  value={`1:${strong}`}\n                  onClick={this.setGoldenRatio}\n                />\n                <label className=\"strength\" htmlFor=\"strong\">\n                  strong\n                </label>\n              </div>\n            </form>\n          </div>\n\n          <div className=\"adjustables\">\n            <IncrementDecrementSet\n              name=\"cups\"\n              title=\"Brewed Cups\"\n              value={cupsFromWater(waterGrams)}\n              measure=\"8oz\"\n              changeQuantity={this.updateWater}\n            />\n            <IncrementDecrementSet\n              name=\"coffeeGrams\"\n              title=\"Ground Coffee\"\n              value={coffeeGramsFromWater(waterGrams, goldenRatio)}\n              measure=\"g\"\n              changeQuantity={this.updateWater}\n            />\n            <IncrementDecrementSet\n              name=\"waterGrams\"\n              title=\"Water\"\n              value={Math.round(waterGrams)}\n              measure=\"g/mL\"\n              changeQuantity={this.updateWater}\n            />\n          </div>\n          <div id=\"countdown-timer\">\n            <div className=\"increment timer\">\n              <IncrementOrDecrementButton \n                id=\"timer\"\n                onClick={this.stepUpTime}\n                text=\"+\"\n              />\n              <IncrementOrDecrementButton \n                id=\"timer\"\n                onClick={this.stepDownTime}\n                text=\"-\"\n              />\n            </div>\n            <TimerDisplay time={countdownView} />\n            <Controls\n              playPauseClick={this.playPause}\n              resetClick={this.resetTimer}\n            />\n          </div>\n          <button\n            id=\"saveSettings\"\n            className=\"rectButton\"\n            type=\"button\"\n            onClick={this.saveSettings}\n          >\n            Save Settings\n          </button>\n        </main>\n      </div>\n    )\n  }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}