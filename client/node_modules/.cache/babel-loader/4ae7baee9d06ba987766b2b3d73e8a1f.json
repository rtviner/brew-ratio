{"ast":null,"code":"import _classCallCheck from \"/Users/beccaviner/Desktop/sites/brew-ratio/brew-ratio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/beccaviner/Desktop/sites/brew-ratio/brew-ratio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/beccaviner/Desktop/sites/brew-ratio/brew-ratio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/beccaviner/Desktop/sites/brew-ratio/brew-ratio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/beccaviner/Desktop/sites/brew-ratio/brew-ratio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/beccaviner/Desktop/sites/brew-ratio/brew-ratio/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/beccaviner/Desktop/sites/brew-ratio/brew-ratio/src/App.js\";\nimport React, { Component } from 'react';\nimport { IncrementDecrementSet } from './increment.js';\nimport { InputButton } from './inputButton.js';\nimport { TimerDisplay } from './timer.js';\nimport { Controls } from './timerControls.js';\nimport './App.css';\nvar DefaultWater = 558;\nvar DefaultRatio = 15.5;\nvar DefaultMinutes = 3;\nvar DefaultSeconds = 30;\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.stopTimer = function () {\n      _this.setState({\n        timerOn: false\n      });\n\n      clearTimeout(_this.tick);\n    };\n\n    _this.state = {\n      goldenRatio: DefaultRatio,\n      waterGrams: DefaultWater,\n      timerEnd: 0,\n      minutes: DefaultMinutes,\n      seconds: DefaultSeconds,\n      intervalTime: DefaultMinutes * 60 + DefaultSeconds,\n      timerOn: false,\n      error: null\n    };\n    _this.setGoldenRatio = _this.setGoldenRatio.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.updateWater = _this.updateWater.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.resetTimer = _this.resetTimer.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.playPause = _this.playPause.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.stopTimer = _this.stopTimer.bind(_assertThisInitialized(_assertThisInitialized(_this))); // this.stepUpTime = this.stepUpTime.bind(this)\n    // this.stepDownTime = this.stepDownTime.bind(this)\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearTimeout(this.tick);\n    }\n  }, {\n    key: \"setGoldenRatio\",\n    value: function setGoldenRatio(event) {\n      this.setState({\n        goldenRatio: parseFloat(event.target.value)\n      });\n    }\n  }, {\n    key: \"updateWater\",\n    value: function updateWater(event) {\n      var _this$state = this.state,\n          waterGrams = _this$state.waterGrams,\n          goldenRatio = _this$state.goldenRatio;\n      var eventInfo = event.target.id.split('-');\n      var value = event.target.type === 'number' ? event.target.value : waterGrams;\n      var newWater;\n\n      if (eventInfo[0] === 'cups') {\n        if (eventInfo[1] === 'amount') {\n          newWater = value * 279;\n        } else {\n          newWater = eventInfo[1] === 'decrement' && waterGrams >= 69.75 ? value - 69.75 : value + 69.75;\n        }\n      } else if (eventInfo[0] === 'coffeeGrams') {\n        if (eventInfo[1] === 'amount') {\n          newWater = value * goldenRatio;\n        } else {\n          newWater = eventInfo[1] === 'decrement' && waterGrams >= goldenRatio ? value - goldenRatio : value + goldenRatio;\n        }\n      } else if (eventInfo[0] === 'waterGrams') {\n        if (eventInfo[1] === 'amount') {\n          newWater = value;\n        } else {\n          newWater = eventInfo[1] === 'decrement' && waterGrams >= 1 ? value - 1 : value + 1;\n        }\n      }\n\n      this.setState({\n        waterGrams: newWater\n      });\n    }\n  }, {\n    key: \"resetTimer\",\n    value: function resetTimer() {\n      this.stopTimer();\n      this.setState({\n        minutes: DefaultMinutes,\n        seconds: DefaultSeconds,\n        intervalTime: DefaultMinutes * 60 + DefaultSeconds\n      });\n    }\n  }, {\n    key: \"playPause\",\n    value: function playPause() {\n      if (this.state.timerOn) this.stopTimer();else this.countdown();\n    }\n  }, {\n    key: \"countdown\",\n    value: function countdown() {\n      var _this2 = this;\n\n      var intervalTime = this.state.intervalTime;\n      var endTime = new Date().getTime() + intervalTime * 1000 + 500;\n      this.setState({\n        timerOn: true,\n        timerEnd: endTime\n      });\n\n      var updateClock = function updateClock() {\n        var msLeft = endTime - new Date().getTime(); // if (msLeft <= 0) {\n        //     // make a ding noise\n        // }\n\n        if (msLeft >= 0) {\n          var currentTime = new Date(msLeft);\n\n          _this2.setState({\n            intervalTime: Math.floor(msLeft / 1000),\n            minutes: currentTime.getUTCMinutes(),\n            seconds: currentTime.getUTCSeconds()\n          });\n\n          _this2.tick = setTimeout(updateClock, currentTime.getUTCMilliseconds() + 500);\n        }\n      };\n\n      updateClock();\n    } // stepUpTime () {\n    //   console.log(\"up up\")\n    // }\n    // stepDownTime () {\n    //   console.log(\"down down\")\n    // }\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          waterGrams = _this$state2.waterGrams,\n          goldenRatio = _this$state2.goldenRatio,\n          minutes = _this$state2.minutes,\n          seconds = _this$state2.seconds;\n\n      var cupsFromWater = function cupsFromWater(water) {\n        var cupSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 280;\n        var possibleCups = water / cupSize;\n        var roundedPossibleCups = Math.round(possibleCups * 4) / 4;\n        return roundedPossibleCups;\n      };\n\n      var coffeeGramsFromWater = function coffeeGramsFromWater(water, goldenRatio) {\n        var coffeeGrams = water / goldenRatio;\n        return Math.round(coffeeGrams);\n      };\n\n      var twoDigits = function twoDigits(time) {\n        return time >= 10 ? time : \"0\".concat(time);\n      };\n\n      var countdownView = \"\".concat(twoDigits(minutes) || \"00\", \":\").concat(twoDigits(seconds) || \"00\");\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"main\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"strengthInput interactions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"Coffee : Water\"), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"strength\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(InputButton, {\n        className: goldenRatio === 18 ? 'active' : 'inactive',\n        id: \"light\",\n        name: \"goldenRatio\",\n        value: \"18\",\n        onClick: this.setGoldenRatio,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"strength\",\n        htmlFor: \"light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"light\")), React.createElement(\"div\", {\n        className: \"strength\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(InputButton, {\n        className: goldenRatio === 15.5 ? 'active' : 'inactive',\n        id: \"med\",\n        name: \"goldenRatio\",\n        value: \"15.5\",\n        onClick: this.setGoldenRatio,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"strength\",\n        htmlFor: \"med\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"medium\")), React.createElement(\"div\", {\n        className: \"strength\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(InputButton, {\n        className: goldenRatio === 13 ? 'active' : 'inactive',\n        id: \"strong\",\n        name: \"goldenRatio\",\n        value: \"13\",\n        onClick: this.setGoldenRatio,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"strength\",\n        htmlFor: \"strong\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, \"strong\")))), React.createElement(\"div\", {\n        id: \"adjustables\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(IncrementDecrementSet, {\n        name: \"cups\",\n        title: \"Brewed Cups\",\n        value: cupsFromWater(waterGrams),\n        measure: \"x 8oz\",\n        changeQuantity: this.updateWater,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }), React.createElement(IncrementDecrementSet, {\n        name: \"coffeeGrams\",\n        title: \"Ground Coffee\",\n        value: coffeeGramsFromWater(waterGrams, goldenRatio),\n        measure: \"g\",\n        changeQuantity: this.updateWater,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }), React.createElement(IncrementDecrementSet, {\n        name: \"waterGrams\",\n        title: \"Water\",\n        value: Math.round(waterGrams),\n        measure: \"mL or g\",\n        changeQuantity: this.updateWater,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      })), React.createElement(TimerDisplay, {\n        time: countdownView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }), React.createElement(Controls, {\n        playPauseClick: this.playPause,\n        resetClick: this.resetTimer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/beccaviner/Desktop/sites/brew-ratio/brew-ratio/src/App.js"],"names":["React","Component","IncrementDecrementSet","InputButton","TimerDisplay","Controls","DefaultWater","DefaultRatio","DefaultMinutes","DefaultSeconds","App","props","stopTimer","setState","timerOn","clearTimeout","tick","state","goldenRatio","waterGrams","timerEnd","minutes","seconds","intervalTime","error","setGoldenRatio","bind","updateWater","resetTimer","playPause","event","parseFloat","target","value","eventInfo","id","split","type","newWater","countdown","endTime","Date","getTime","updateClock","msLeft","currentTime","Math","floor","getUTCMinutes","getUTCSeconds","setTimeout","getUTCMilliseconds","cupsFromWater","water","cupSize","possibleCups","roundedPossibleCups","round","coffeeGramsFromWater","coffeeGrams","twoDigits","time","countdownView"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { IncrementDecrementSet } from './increment.js'\nimport { InputButton } from './inputButton.js'\nimport { TimerDisplay } from './timer.js'\nimport { Controls } from './timerControls.js'\nimport './App.css'\n\nconst DefaultWater = 558\nconst DefaultRatio = 15.5\nconst DefaultMinutes = 3\nconst DefaultSeconds = 30\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      goldenRatio: DefaultRatio,\n      waterGrams: DefaultWater,\n      timerEnd: 0,\n      minutes: DefaultMinutes,\n      seconds: DefaultSeconds,\n      intervalTime: (DefaultMinutes * 60) + DefaultSeconds,\n      timerOn: false,\n      error: null\n    }\n\n    this.setGoldenRatio = this.setGoldenRatio.bind(this)\n    this.updateWater = this.updateWater.bind(this)\n    this.resetTimer = this.resetTimer.bind(this)\n    this.playPause = this.playPause.bind(this)\n    this.stopTimer = this.stopTimer.bind(this)\n    // this.stepUpTime = this.stepUpTime.bind(this)\n    // this.stepDownTime = this.stepDownTime.bind(this)\n  }\n\n  componentWillUnmount () {\n    clearTimeout(this.tick);\n  }\n\n  setGoldenRatio(event) {\n    this.setState({\n      goldenRatio: parseFloat(event.target.value),\n    })\n  }\n\n  updateWater(event) {\n    const { waterGrams, goldenRatio } = this.state\n    const eventInfo = event.target.id.split('-')\n    let value = event.target.type === 'number' ? event.target.value : waterGrams\n    let newWater\n\n    if (eventInfo[0] === 'cups') {\n      if (eventInfo[1] === 'amount') {\n        newWater = value * 279\n      } else {\n        newWater =\n          eventInfo[1] === 'decrement' && waterGrams >= 69.75\n            ? value - 69.75\n            : value + 69.75\n      }\n    } else if (eventInfo[0] === 'coffeeGrams') {\n      if (eventInfo[1] === 'amount') {\n        newWater = value * goldenRatio\n      } else {\n        newWater =\n          eventInfo[1] === 'decrement' && waterGrams >= goldenRatio\n            ? value - goldenRatio\n            : value + goldenRatio\n      }\n    } else if (eventInfo[0] === 'waterGrams') {\n      if (eventInfo[1] === 'amount') {\n        newWater = value\n      } else {\n        newWater =\n          eventInfo[1] === 'decrement' && waterGrams >= 1\n            ? value - 1\n            : value + 1\n      }\n    }\n    this.setState({ waterGrams: newWater })\n  }\n\n  resetTimer () {\n    this.stopTimer();\n      this.setState({\n          minutes: DefaultMinutes,\n          seconds: DefaultSeconds,\n          intervalTime: (DefaultMinutes * 60) + DefaultSeconds\n      });\n  }\n\n  playPause () {\n      if (this.state.timerOn) this.stopTimer();\n      else this.countdown();\n  }\n\n  stopTimer = () => {\n      this.setState({ timerOn: false });\n      clearTimeout(this.tick);\n  }\n\n  countdown () {\n    const { intervalTime } = this.state;\n    let endTime = (new Date()).getTime() + (intervalTime * 1000) + 500;\n\n    this.setState({\n        timerOn: true,\n        timerEnd: endTime\n    });\n\n    const updateClock = () => {\n        let msLeft = endTime - (new Date()).getTime();\n        // if (msLeft <= 0) {\n        //     // make a ding noise\n        // }\n        if (msLeft >= 0) {\n            let currentTime = new Date(msLeft);\n            this.setState({\n                intervalTime: Math.floor(msLeft / 1000),\n                minutes: currentTime.getUTCMinutes(),\n                seconds: currentTime.getUTCSeconds()\n            });\n            this.tick = setTimeout(updateClock,\n                currentTime.getUTCMilliseconds() + 500);\n        }\n    };\n    updateClock();\n  }\n\n  // stepUpTime () {\n  //   console.log(\"up up\")\n  // }\n\n  // stepDownTime () {\n  //   console.log(\"down down\")\n  // }\n\n  render() {\n    const { waterGrams, goldenRatio, minutes, seconds } = this.state\n\n    const cupsFromWater = (water, cupSize = 280) => {\n      const possibleCups = water / cupSize\n      const roundedPossibleCups = Math.round(possibleCups * 4) / 4\n      return roundedPossibleCups\n    }\n\n    const coffeeGramsFromWater = (water, goldenRatio) => {\n      const coffeeGrams = water / goldenRatio\n      return Math.round(coffeeGrams)\n    }\n\n    let twoDigits = (time) => time >= 10 ?\n            time : `0${time}`;\n    let countdownView = `${twoDigits(minutes) || \"00\"}:${twoDigits(seconds) || \"00\"}`;\n    \n    return (\n      <div className=\"App\">\n        <main>\n          <div className=\"strengthInput interactions\">\n            <h2>Coffee : Water</h2>\n            <form>\n              <div className=\"strength\">\n                <InputButton\n                  className={goldenRatio === 18 ? 'active' : 'inactive'}\n                  id=\"light\"\n                  name=\"goldenRatio\"\n                  value=\"18\"\n                  onClick={this.setGoldenRatio}\n                />\n                <label className=\"strength\" htmlFor=\"light\">\n                  light\n                </label>\n              </div>\n\n              <div className=\"strength\">\n                <InputButton\n                  className={goldenRatio === 15.5 ? 'active' : 'inactive'}\n                  id=\"med\"\n                  name=\"goldenRatio\"\n                  value=\"15.5\"\n                  onClick={this.setGoldenRatio}\n                />\n                <label className=\"strength\" htmlFor=\"med\">\n                  medium\n                </label>\n              </div>\n\n              <div className=\"strength\">\n                <InputButton\n                  className={goldenRatio === 13 ? 'active' : 'inactive'}\n                  id=\"strong\"\n                  name=\"goldenRatio\"\n                  value=\"13\"\n                  onClick={this.setGoldenRatio}\n                />\n                <label className=\"strength\" htmlFor=\"strong\">\n                  strong\n                </label>\n              </div>\n            </form>\n          </div>\n\n          <div id=\"adjustables\">\n            <IncrementDecrementSet\n              name=\"cups\"\n              title=\"Brewed Cups\"\n              value={cupsFromWater(waterGrams)}\n              measure=\"x 8oz\"\n              changeQuantity={this.updateWater}\n            />\n            <IncrementDecrementSet\n              name=\"coffeeGrams\"\n              title=\"Ground Coffee\"\n              value={coffeeGramsFromWater(waterGrams, goldenRatio)}\n              measure=\"g\"\n              changeQuantity={this.updateWater}\n            />\n            <IncrementDecrementSet\n              name=\"waterGrams\"\n              title=\"Water\"\n              value={Math.round(waterGrams)}\n              measure=\"mL or g\"\n              changeQuantity={this.updateWater}\n            />\n          </div>\n\n          <TimerDisplay \n            time={countdownView}\n          />\n          <Controls\n            playPauseClick={this.playPause}\n            resetClick={this.resetTimer}\n          />\n\n        </main>\n      </div>\n    )\n  }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}